<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M∆∞·ª£n Xe T·∫°i Tr·∫°m</title>
    <link rel="stylesheet" href="css/muonxe.css">
</head>
<body>
    <div class="container">
        <!-- Left Section -->
        <div class="left-section">
            <div class="header">
                <div class="header-icon">üö≤</div>
                <div class="header-info">
                    <h1>M∆∞·ª£n Xe T·∫°i Tr·∫°m</h1>
                    <div class="station-name">Tr·∫°m Nguy·ªÖn Hu·ªá</div>
                </div>
            </div>

            <!-- Step Indicator -->
            <div class="step-indicator">
                <div class="step-item active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-text">Ch·ªçn xe</div>
                </div>
                <div class="step-item" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-text">Qu√©t th·∫ª</div>
                </div>
                <div class="step-item" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-text">L·∫•y xe</div>
                </div>
            </div>

            <!-- Alerts -->
            <div class="alert alert-error" id="alertError">
                <strong>‚ö†Ô∏è L·ªói:</strong> <span id="errorMessage"></span>
            </div>

            <div class="alert alert-warning" id="alertWarning">
                <strong>‚ö†Ô∏è C·∫£nh b√°o:</strong> <span id="warningMessage"></span>
            </div>

            <div class="alert alert-info" id="alertInfo">
                <strong>‚ÑπÔ∏è Th√¥ng b√°o:</strong> <span id="infoMessage"></span>
            </div>

            <div class="alert alert-success" id="alertSuccess">
                <strong>‚úì Th√†nh c√¥ng:</strong> <span id="successMessage"></span>
            </div>

            <!-- Step 1: Select Bike -->
            <div class="step-content" id="step1Content">
                <div class="section-title">üö¥ Ch·ªçn xe b·∫°n mu·ªën m∆∞·ª£n</div>
                
                <div class="bikes-grid" id="bikesGrid">
                    <!-- Bikes will be dynamically generated -->
                </div>

                <div class="legend">
                    <div class="legend-title">Ch√∫ th√≠ch:</div>
                    <div class="legend-items">
                        <div class="legend-item">
                            <div class="legend-dot available"></div>
                            <span>S·∫µn s√†ng</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot rented"></div>
                            <span>ƒêang thu√™</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot maintenance"></div>
                            <span>B·∫£o tr√¨</span>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">H·ªßy b·ªè</button>
                    <button type="button" class="btn btn-primary" id="nextStep1Btn" disabled>Ti·∫øp t·ª•c</button>
                </div>
            </div>

            <!-- Step 2: Scan Card -->
            <div class="step-content hidden" id="step2Content">
                <div class="section-title">üí≥ Qu√©t th·∫ª ƒë·ªÉ x√°c nh·∫≠n</div>
                
                <div class="selected-bike-info">
                    <div class="bike-preview">
                        <div class="bike-icon">üö≤</div>
                        <div class="bike-details">
                            <div class="bike-label">Xe ƒë√£ ch·ªçn:</div>
                            <div class="bike-number" id="selectedBikeNumber">--</div>
                        </div>
                    </div>
                    <button type="button" class="btn-change-bike" id="changeBikeBtn">ƒê·ªïi xe kh√°c</button>
                </div>

                <div class="card-scanner">
                    <div class="scanner-animation" id="scannerAnimation">
                        <div class="scanner-icon">üí≥</div>
                        <div class="scanner-waves">
                            <div class="wave"></div>
                            <div class="wave"></div>
                            <div class="wave"></div>
                        </div>
                        <div class="scanner-text">Vui l√≤ng qu√©t th·∫ª c·ªßa b·∫°n</div>
                    </div>

                    <div class="card-info hidden" id="cardInfo">
                        <div class="card-number">
                            <span class="label">S·ªë th·∫ª:</span>
                            <span id="scannedCardNumber">--</span>
                        </div>
                        <div class="card-balance">
                            <span class="label">S·ªë d∆∞:</span>
                            <span id="scannedCardBalance">--</span>
                        </div>
                    </div>
                </div>

                <!-- Demo: Simulate card scan -->
                <div class="demo-controls">
                    <div class="demo-title">Demo: M√¥ ph·ªèng qu√©t th·∫ª</div>
                    <div class="demo-buttons">
                        <button type="button" class="demo-btn" data-card="valid">Th·∫ª h·ª£p l·ªá (ƒë·ªß ti·ªÅn)</button>
                        <button type="button" class="demo-btn" data-card="insufficient">Th·∫ª thi·∫øu ti·ªÅn</button>
                        <button type="button" class="demo-btn" data-card="invalid">Th·∫ª kh√¥ng h·ª£p l·ªá</button>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" id="backStep2Btn">Quay l·∫°i</button>
                    <button type="button" class="btn btn-primary" id="confirmRentBtn" disabled>X√°c nh·∫≠n thu√™ xe</button>
                </div>
            </div>

            <!-- Step 3: Take Bike -->
            <div class="step-content hidden" id="step3Content">
                <div class="unlock-success">
                    <div class="success-icon-big">üîì</div>
                    <div class="success-title">ƒê√£ m·ªü kh√≥a th√†nh c√¥ng!</div>
                    
                    <div class="countdown-container">
                        <div class="countdown-label">Th·ªùi gian c√≤n l·∫°i ƒë·ªÉ l·∫•y xe:</div>
                        <div class="countdown-timer" id="countdownTimer">60</div>
                        <div class="countdown-text">gi√¢y</div>
                        
                        <div class="countdown-progress">
                            <div class="countdown-bar" id="countdownBar"></div>
                        </div>
                    </div>

                    <div class="unlock-instruction">
                        <div class="instruction-icon">üëá</div>
                        <div class="instruction-text">Vui l√≤ng d·∫Øt xe ra kh·ªèi √¥ trong v√≤ng 60 gi√¢y</div>
                    </div>

                    <div class="rental-info">
                        <div class="rental-row">
                            <span>S·ªë xe:</span>
                            <span id="rentalBikeNumber">--</span>
                        </div>
                        <div class="rental-row">
                            <span>B·∫Øt ƒë·∫ßu thu√™:</span>
                            <span id="rentalStartTime">--</span>
                        </div>
                        <div class="rental-row">
                            <span>Gi√° thu√™:</span>
                            <span id="rentalPrice">2.000ƒë/gi·ªù</span>
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary btn-full" id="confirmTakenBtn">ƒê√£ l·∫•y xe</button>
                </div>
            </div>

            <!-- Loading Overlay -->
            <div class="loading-overlay hidden" id="loadingOverlay">
                <div class="spinner"></div>
                <p>ƒêang x·ª≠ l√Ω...</p>
            </div>
        </div>

        <!-- Right Section -->
        <div class="right-section">
            <div class="summary-card">
                <div class="summary-title">Th√¥ng tin tr·∫°m</div>
                <div class="station-stats">
                    <div class="stat-item">
                        <div class="stat-number" id="availableBikes">--</div>
                        <div class="stat-label">Xe s·∫µn s√†ng</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="totalBikes">--</div>
                        <div class="stat-label">T·ªïng s·ªë xe</div>
                    </div>
                </div>
            </div>

            <div class="summary-card" id="selectedBikeCard" style="display: none;">
                <div class="summary-title">Xe ƒë√£ ch·ªçn</div>
                <div class="selected-summary">
                    <div class="summary-bike-icon">üö≤</div>
                    <div class="summary-bike-info">
                        <div class="summary-bike-number" id="summaryBikeNumber">--</div>
                        <div class="summary-bike-status" id="summaryBikeStatus">S·∫µn s√†ng</div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <div class="info-box-title">üìã H∆∞·ªõng d·∫´n m∆∞·ª£n xe</div>
                <div class="info-box-text">
                    <strong>B∆∞·ªõc 1:</strong> Ch·ªçn xe c√≥ tr·∫°ng th√°i "S·∫µn s√†ng" (m√†u xanh)<br>
                    <strong>B∆∞·ªõc 2:</strong> Qu√©t th·∫ª c·ªßa b·∫°n v√†o m√°y ƒë·ªçc<br>
                    <strong>B∆∞·ªõc 3:</strong> L·∫•y xe ra trong v√≤ng 60 gi√¢y<br>
                    <strong>L∆∞u √Ω:</strong> Kh√¥ng l·∫•y xe s·∫Ω t·ª± ƒë·ªông h·ªßy giao d·ªãch
                </div>
            </div>

            <div class="info-box">
                <div class="info-box-title">üí∞ Gi√° c·∫£ & ƒêi·ªÅu ki·ªán</div>
                <div class="info-box-text">
                    ‚Ä¢ Ph√≠ thu√™: <strong>2.000ƒë/gi·ªù</strong><br>
                    ‚Ä¢ S·ªë d∆∞ t·ªëi thi·ªÉu: <strong>20.000ƒë</strong><br>
                    ‚Ä¢ Th·ªùi gian t·ªëi ƒëa: <strong>4 gi·ªù/l·∫ßn</strong><br>
                    ‚Ä¢ ƒê·∫∑t c·ªçc: <strong>50.000ƒë</strong> (ho√†n tr·∫£ khi tr·∫£ xe)
                </div>
            </div>

            <div class="info-box warning-box">
                <div class="info-box-title">‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</div>
                <div class="info-box-text">
                    ‚Ä¢ Kh√¥ng ch·ªçn xe c√≥ m√†u ƒë·ªè (ƒëang thu√™)<br>
                    ‚Ä¢ Kh√¥ng ch·ªçn xe c√≥ m√†u x√°m (b·∫£o tr√¨)<br>
                    ‚Ä¢ Ki·ªÉm tra s·ªë d∆∞ th·∫ª tr∆∞·ªõc khi thu√™<br>
                    ‚Ä¢ Hotline h·ªó tr·ª£: <strong>1900 1234</strong>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio for alerts -->
    <audio id="errorSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTcIF2m98OScTgwOUKzn8LhlHQU2jdTxz3ozBSh+zPLaizsKFF+45OumVBMJR6Hh8bxsIAQohM/y24k4CBdqvfDknE4MDlCs5/C4ZR0FNo3U8c96MwUofszy2os7ChRfuOTrplQTCUeh4fG8bCAEKITP8tyIOQcXar3w5JxODA5QrOfwuGUdBTaN1PHPejMFKH7M8tqLOwoUX7jk66ZUEwlHoeHxvGwgBCiEz/LciDkHF2q98OScTgwOUKzn8LhlHQU2jdTxz3ozBSh+zPLaizsKFF+45OumVBMJR6Hh8bxsIAQohM/y3Ig5BxdqvfDknE4MDlCs5/C4ZR0FNo3U8c96MwUofszy2os7ChRfuOTrplQTCUeh4fG8bCAEKITP8tyIOQcXar3w5JxODA5QrOfwuGUdBTaN1PHPejMFKH7M8tqLOwoUX7jk66ZUEwlHoeHxvGwgBCiEz/LciDkHF2q98OScTgwOUKzn8LhlHQU2jdTxz3ozBSh+zPLaizsKFF+45OumVBMJR6Hh8bxsIAQohM/y3Ig5BxdqvfDknE4MDlCs5/C4ZR0FNo3U8c96MwUofszy2os7ChRfuOTrplQTCUeh4fG8bCAEKITP8tyIOQcXar3w5JxODA5QrOfwuGUdBTaN1PHPejMFKH7M8tqLOwoUX7jk66ZUEwlHoeHxvGwgBCiEz/LciDkHF2q98OScTgwOUKzn8Lg=" type="audio/wav">
    </audio>

    <script src="js/muonxe.js"></script>
</body>
</html>
